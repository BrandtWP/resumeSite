<!DOCTYPE html>
<html>

<head>
    <link rel="icon" type="image/png" href="resources/favicon.ico">

    <title>Brandt WP</title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <link rel="stylesheet" type="text/css" href="resources/asciinema-player.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <link href="./blogPosts/covarianceTesting.html" rel="import" />

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [
                    ['$', '$'],
                    ['\\(', '\\)']
                ]
            }
        };
    </script>

</head>

<body>
    <script>
        AOS.init();
    </script>

    <div id="splashscreen">
        <svg id="backgroundSVG" viewbox="0 0 1920 900">
            <defs>
                <polygon id="graph"></polygon>
                <text id="name" class="centerText" x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">
                    BRANDT WINKLER PRINS</text>
            </defs>
            <mask id="knockout-text">
                <rect width="100%" height="100%" fill="#fff" x="0" y="0" />
                <use xlink:href="#name" fill="#000"></use>
            </mask>
            <mask id="mask">
                <rect width="100%" height="100%" fill="#fff" />
                <use xlink:href="#graph" fill="#000"></use>
            </mask>
            <use xlink:href="#graph" fill="#fff" mask="url(#knockout-text)"></use>
            <use xlink:href="#name" fill="#fff" mask="url(#mask)"></use>
            <a href ="#aboutMe">
                <text id="name" class="centerText" x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="rgba(0,0,0,0)">BRANDT WINKLER PRINS</text>
            </a>
        </svg>
        <svg width="1920" height="80" style='max-width:100vw;' viewBox="0 0 7128 297" version="1.1" id="svg5" inkscape:version="1.1.1 (3bf5ae0d25, 2021-09-20)" sodipodi:docname="socials.svg" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
        <mask id = "socialsMask">
            <rect width="100%" height="100%" fill="#fff"/>
            <g
            id="g121"
            transform="translate(-92.741584)">
            <path
            d="m 12,-8.5875955 c -11.66337056,0 -21.110173,9.45207999 -21.110173,21.1101735 0,9.328937 6.0480646,17.239974 14.4340808,20.028276 1.0555086,0.198788 1.4425285,-0.453869 1.4425285,-1.015047 0,-0.501367 -0.017592,-1.829549 -0.026388,-3.58873 C 0.86790212,29.220724 -0.37056136,25.114796 -0.37056136,25.114796 -1.3310742,22.67833 -2.7190681,22.027433 -2.7190681,22.027433 -4.6312979,20.718602 -2.5712969,20.74499 -2.5712969,20.74499 -0.45148369,20.892761 0.66207794,22.919338 0.66207794,22.919338 2.5444017,26.147435 5.6036176,25.215069 6.8104158,24.675 7.0004074,23.309876 7.5439943,22.379269 8.1473934,21.851515 3.4591759,21.32376 -1.4682904,19.508286 -1.4682904,11.419571 c 0,-2.3045272 0.81801925,-4.186851 2.17258868,-5.6645631 C 0.46680884,5.221976 -0.2456595,3.0757751 0.8890123,0.16784879 c 0,0 1.767977,-0.56645631 5.8052976,2.16379271 1.6888138,-0.4697013 3.4831781,-0.7019132 5.2775431,-0.7124683 1.794365,0.010555 3.58873,0.242767 5.277543,0.7124683 4.010933,-2.73024902 5.77891,-2.16379271 5.77891,-2.16379271 1.134672,2.90792631 0.422204,5.05412721 0.211102,5.58715911 1.345773,1.4777121 2.163793,3.3600359 2.163793,5.6645631 0,8.109825 -4.934503,9.895394 -9.631517,10.414352 0.738856,0.633305 1.424937,1.928062 1.424937,3.905382 0,2.825245 -0.02639,5.094588 -0.02639,5.780669 0,0.554142 0.369428,1.213835 1.451325,1.002733 C 27.067386,29.753756 33.110173,21.837441 33.110173,12.522578 33.110173,0.86448449 23.658093,-8.5875955 12,-8.5875955"
            id="path5"
            style="stroke-width:1.75918" fill="#000" transform="matrix(3.6065636,0,0,3.6065636,3284.3372,105.22171)"/>
            <path
            d="m 20.447,20.452 h -3.554 v -5.569 c 0,-1.328 -0.027,-3.037 -1.852,-3.037 -1.853,0 -2.136,1.445 -2.136,2.939 v 5.667 H 9.351 V 9 h 3.414 v 1.561 h 0.046 c 0.477,-0.9 1.637,-1.85 3.37,-1.85 3.601,0 4.267,2.37 4.267,5.455 v 6.286 z M 5.337,7.433 c -1.144,0 -2.063,-0.926 -2.063,-2.065 0,-1.138 0.92,-2.063 2.063,-2.063 1.14,0 2.064,0.925 2.064,2.063 0,1.139 -0.925,2.065 -2.064,2.065 z M 7.119,20.452 H 3.555 V 9 H 7.119 Z M 22.225,0 H 1.771 C 0.792,0 0,0.774 0,1.729 V 22.271 C 0,23.227 0.792,24 1.771,24 H 22.222 C 23.2,24 24,23.227 24,22.271 V 1.729 C 24,0.774 23.2,0 22.222,0 Z"
            id="path9" transform="matrix(6.1874994,0,0,6.1874994,3913.5024,74.250012)"/>
            <path
            d="m 11.105335,131.05643 v 15 c 0,0.85 -0.65,1.5 -1.5000002,1.5 h -1.5 v -13.613 l -9.00000004,6.463 -8.99999996,-6.463 v 13.613 h -1.4999998 c -0.851,0 -1.5,-0.65 -1.5,-1.5 v -15 c 0,-0.425 0.162,-0.8 0.431,-1.068 0.269,-0.272 0.645,-0.432 1.069,-0.432 h 0.5 l 9.99999976,7.25 10.00000004,-7.25 h 0.5 c 0.4250002,0 0.8000002,0.162 1.0690002,0.432 0.27,0.268 0.431,0.643 0.431,1.068 z"
            id="path13"  transform="matrix(8.2499994,0,0,8.2499994,3666.0077,-994.59047)"/>
        </mask>
        <rect width="100%" height="100%" fill="#fff" mask="url(#socialsMask)"/>
       <g
          inkscape:label="Layer 1"
          inkscape:groupmode="layer"
          id="layer1"
          transform="translate(3459)" />
          <g
          id="g121"
          transform="translate(-92.741584)">

    <a
          href="https://github.com/BrandtWP"
          target="_blank"
          id="a7"
          transform="matrix(3.6065636,0,0,3.6065636,3284.3372,105.22171)">
         <path
            d="m 12,-8.5875955 c -11.66337056,0 -21.110173,9.45207999 -21.110173,21.1101735 0,9.328937 6.0480646,17.239974 14.4340808,20.028276 1.0555086,0.198788 1.4425285,-0.453869 1.4425285,-1.015047 0,-0.501367 -0.017592,-1.829549 -0.026388,-3.58873 C 0.86790212,29.220724 -0.37056136,25.114796 -0.37056136,25.114796 -1.3310742,22.67833 -2.7190681,22.027433 -2.7190681,22.027433 -4.6312979,20.718602 -2.5712969,20.74499 -2.5712969,20.74499 -0.45148369,20.892761 0.66207794,22.919338 0.66207794,22.919338 2.5444017,26.147435 5.6036176,25.215069 6.8104158,24.675 7.0004074,23.309876 7.5439943,22.379269 8.1473934,21.851515 3.4591759,21.32376 -1.4682904,19.508286 -1.4682904,11.419571 c 0,-2.3045272 0.81801925,-4.186851 2.17258868,-5.6645631 C 0.46680884,5.221976 -0.2456595,3.0757751 0.8890123,0.16784879 c 0,0 1.767977,-0.56645631 5.8052976,2.16379271 1.6888138,-0.4697013 3.4831781,-0.7019132 5.2775431,-0.7124683 1.794365,0.010555 3.58873,0.242767 5.277543,0.7124683 4.010933,-2.73024902 5.77891,-2.16379271 5.77891,-2.16379271 1.134672,2.90792631 0.422204,5.05412721 0.211102,5.58715911 1.345773,1.4777121 2.163793,3.3600359 2.163793,5.6645631 0,8.109825 -4.934503,9.895394 -9.631517,10.414352 0.738856,0.633305 1.424937,1.928062 1.424937,3.905382 0,2.825245 -0.02639,5.094588 -0.02639,5.780669 0,0.554142 0.369428,1.213835 1.451325,1.002733 C 27.067386,29.753756 33.110173,21.837441 33.110173,12.522578 33.110173,0.86448449 23.658093,-8.5875955 12,-8.5875955"
            id="path5"
            style="stroke-width:1.75918" fill="rgba(0,0,0,0)"/>
       </a>
    
       <a
          href="https://www.linkedin.com/in/brandt-winkler-prins"
          target="_blank"
          id="a11"
          transform="matrix(6.1874994,0,0,6.1874994,3913.5024,74.250012)">
         <path
            d="m 20.447,20.452 h -3.554 v -5.569 c 0,-1.328 -0.027,-3.037 -1.852,-3.037 -1.853,0 -2.136,1.445 -2.136,2.939 v 5.667 H 9.351 V 9 h 3.414 v 1.561 h 0.046 c 0.477,-0.9 1.637,-1.85 3.37,-1.85 3.601,0 4.267,2.37 4.267,5.455 v 6.286 z M 5.337,7.433 c -1.144,0 -2.063,-0.926 -2.063,-2.065 0,-1.138 0.92,-2.063 2.063,-2.063 1.14,0 2.064,0.925 2.064,2.063 0,1.139 -0.925,2.065 -2.064,2.065 z M 7.119,20.452 H 3.555 V 9 H 7.119 Z M 22.225,0 H 1.771 C 0.792,0 0,0.774 0,1.729 V 22.271 C 0,23.227 0.792,24 1.771,24 H 22.222 C 23.2,24 24,23.227 24,22.271 V 1.729 C 24,0.774 23.2,0 22.222,0 Z"
            id="path9" fill="rgba(0,0,0,0)"/>
       </a>
       <a
          href="mailto:brandt@brandtwp.me"
          target="_blank"
          id="a15"
          transform="matrix(8.2499994,0,0,8.2499994,3666.0077,-994.59047)">
         <path
            d="m 11.105335,131.05643 v 15 c 0,0.85 -0.65,1.5 -1.5000002,1.5 h -1.5 v -13.613 l -9.00000004,6.463 -8.99999996,-6.463 v 13.613 h -1.4999998 c -0.851,0 -1.5,-0.65 -1.5,-1.5 v -15 c 0,-0.425 0.162,-0.8 0.431,-1.068 0.269,-0.272 0.645,-0.432 1.069,-0.432 h 0.5 l 9.99999976,7.25 10.00000004,-7.25 h 0.5 c 0.4250002,0 0.8000002,0.162 1.0690002,0.432 0.27,0.268 0.431,0.643 0.431,1.068 z"
            id="path13" fill="rgba(0,0,0,0)"/>
       </a>
     </svg>


    </div>
    </div>
    <div class='content indented aos-init aos-animate' data-aos="fade-up" data-aos-delay="200">
        <h1>Building a Trend Following Trading System</h1>
        <h2>Using a DCC-GARCH Model</h2>
        <p>
            $\DeclareMathOperator{\EMA}{EMA} \DeclareMathOperator{\EMAC}{EMAC} \DeclareMathOperator{\Var}{Var} \DeclareMathOperator{\Cov}{Cov} \DeclareMathOperator{\Vec}{vec} $ Now, let's try and integrate our GARCH model into a more complete systmatic trading system.
            We compute expected returns by using a simple trend following algorithm put forth by Robert Carver [1]. Given a vector of prices of length $T$ and a scalar $\alpha$ defining a decay rate the exponential moving average at time $T$ is given
            by $$\EMA_T(\alpha, p) = \alpha \cdot \sum^T_{t=1}{(1-\alpha)^{t-1}p_t}$$ We like to think of the decay rate $\alpha$ in terms of "span" which is a time period specified in days. Given a span $s$ we compute $\alpha$ as $\alpha = \frac{2}{s+1}$
            Carver's trend following signal is based on comparing the exponential moving averages of different spans, we call this the Exponential Moving Average Crossover signal. Let $p_\text{diff}$ be the vector of length $T-1$ defined as $p_{\text{diff},t}
            = p_t - p_{t-1}, t = 2, \ldots, T$ $$\EMAC_T(p, s_\text{short}, s_\text{long}) = \frac{\EMA_T(p, \frac{2}{s_\text{short} + 1}) - \EMA_T(p, \frac{2}{s_\text{long} + 1})}{\sqrt{\Var(p_\text{diff})}}$$ $$s_\text{short}
            < s_\text{long}$$ The denominator in the above formula for the crossover signal is just the sample standard deviation of the absolute price changes. Carver suggests interpreting a positive value of EMAC as a sign of an upwards price trend and a negative
                EMAC as a sign of a downwards price trend. Carver suggests summing $\EMAC$s with the following pairs of spans: 2:8, 4:16, 8:32, 16:64, 32: 128 and 64:256. We can express this Multiple-Exponential-Moving-Average-Crossover signal this as follows:
                $$\text{MEMAC}=\sum^6_{n=1}{\EMAC(2^n, 2^{n+2})}$$ In order to effectively use this signal in our portfolio selection we must adapt the dimensionsless scalar that $\text{MEMAC}$ produces into an expected return. Using the system put forth
                by Grinold [2] we can convert carver 's signal into an expected return as follows:

Given a vector of signals $s$ and a vector of subsequent excess returns $r$, all of length $T$, we have

$$\text{IC} = \frac{\Cov(r, s)}{\Var(r)\cdot \Var(s)}$$

$$ \alpha = \Var(r) \cdot \text{IC} \cdot \frac{s_T - \bar{s}_T}{\sqrt{\Var{(s)}}}$$

Where alpha is the predicted excess return and $\frac{s_T - \bar{s}_T}{\sqrt{\Var{(s)}}}$ is just the z-score of $s$. $\text{IC}$ is known as the Information Coefficient and is the correlation between a signal and excess return. We can calculate the $IC$ on multiple securities if we expect the model to work equally well on them. Given that we have no reason to doubt this, given a matrix $R$ of excess returns and a matrix $S$ of signals with $T$ observations and $n$ assets $S$ of signals then $$\text{IC} = \frac{\Cov(\Vec(R), \Vec(S))}{\Var(\Vec(R)) \cdot \Var(\Vec(S))}$$

Where $\Vec$ is the matrix vectorization operator which produces a column vector out of a given matrix by stacking its columns. 

After some emprical testing I have, however, resolved to modify Carver's algorithm somewhat. Carver observes that the expected mean of an $\EMAC$ varies signficantly depending on the choice of spans. He fixes this by normalizing the $\EMAC$s using their
                sample mean. I have achieved better results and a higher $\text{IC}$ by means of modifying the $\EMAC$ to be $$\EMAC_T(p, s_\text{short}, s_\text{long})=\frac{\EMA_T(r, \frac{2}{s_\text{short} + 1}) - \EMA_T(r, \frac{2}{s_\text{long} + 1})}{\sqrt{\Var(r)}}$$
                $$r=\frac{p}{\nabla{p}}$$ Where $\nabla$ is the backshift operator, thus $r$ is simply a vector log returns. When implementing this I found this signal to consistently have a slightly negative IC. Thus in theory one would make more money by
                doing exactly the *opposite* of what the signal suggests. While I could invert the signal, I would have no rationale for doing so and the IC would still be so incredibly low that it would likely make no money when actually trading. Instead
                I opt to combine it with the GARCH model shown previously. We found that increased correlation coefficients as measured by the GARCH model alined with market downturns. Thus it might be reasonable to assume trends to be more predictive if
                the correlation is higher. A bit of a stretch I know, but it has some intuitive appeal. <img src='resources/correlations.png'>

                We compute a weighting coefficient for each of the $\EMAC$s as follows: given a vector of mean correlations $\rho$ then we weight each trend with $$w_{T,s}=\ frac{\rho_{T}}{\rho_{T - s}}$$ $$\text{MEMAC}_T=\frac{\sum^6_{n=1}{w_{T, 2^{n+2}} \cdot \EMAC_T(2^n,
                2^{n+2})}}{\sum^6_{n=1}{w_{T, 2^{n+2}}}}$$ We divide by the sum of the weights so as not to change the signal mean. We now run a backtest with a reblancing period of 20 days and optimize our portfolio using the Markowitz method. At each
                time interval we fit a DCC-GARCH model with all prices up to that date and use it to predict future correlation and covariance. The results are rather disappointing with a tiny information ration of 0.07 and a visibly extremely high beta.

                <img src='resources/momentumPerformance.png'> But I am eager to see what will happen once I expand the number of possible assets and enable short selling in my backtester! To be continued thus!
                <br>
                <br>
                <br> [1]:Carver, Robert. Systematic Trading: A Unique New Method for Designing Trading and Investing Systems. Harriman House, 2015.
                <br> [2]: Grinold, Richard C. Active Portfolio Management: A Quantitative Approach for Providing Superior Returns and Controlling Risk. McGraw-Hill, 2011. <a href="http://cslt.riit.tsinghua.edu.cn/mediawiki/images/a/a7/Active_Portfolio_Management_-_A_quantitative_approach_for_providing_superior_treturn_and_controlling_risk.pdf">link</a>
        </p>
    </div>
    <div class='content indented aos-init aos-animate' data-aos="fade-up" data-aos-delay="200">
        <h1>Evaluating Covariance Matrix Estimators for Portfolio Optimization</h1>
        <h2>A Case Against Innovation</h2>

        <embed type="text/html" src="blogPosts/covarianceTesting.html" , width=100>


        <h3>2022-02-05</h3>
    </div>
    <div class='break'>
        <div>
            <div class='triangle bottom right' style='border-color: white'></div>
            <div class='triangle bottom left' style='border-color: white'></div>
        </div>
        <div style="flex-grow:1"></div>
        <div>
            <div class='triangle top left' style='border-color: white;'></div>
            <div class='triangle top right' style='border-color: white;'></div>
        </div>
    </div>
    <!-- <div class='triangle top right' style='border-color: white'></div> -->
    <div class='content indented aos-init aos-animate' data-aos="fade-up" data-aos-delay="200">
        <h1>What I Did During High School</h1>
        <h2>A Look at Some Unsuccessful Trading Strategies</h2>
        <p>I entered high school with a determination to implement some quantitative trading algorithms. The concept of making money with nothing but a little math certainly appealed to me. I just had to be a little smarter and more insightful than your
            average trader — something not too hard I figured. In any case, saying “I work on quantitative trading strategies” was a good opener at parties (perhaps it’s best I wasn’t invited to any).</p>

        <p>The first step was finding some good data. I had pieced together a professional-looking website to join the start-up program of the financial data provider Intrinio. I then wrote a little script to scrape their APIs until their daily API call
            cap was reached. Having never heard of a cronjob, I resorted to manually running the script every morning to get the data I need. This was, needless to say, something I most often absentmindedly forgot to do. </p>

        <p>But of course, I wasn’t going to content myself with daily data or anything like that. So I scraped years of order book data from the IEX exchange and thus angered my father after our ISP complained that we’d exceed our monthly data cap. But with
            that, I had plenty of data to sink my teeth in. All I needed was some software to put it to work. </p>

        <p>I decided to write this backtesting software entirely by myself while being perfectly aware of all the wonderful existing software solutions that existed for it. To this day I am still toiling away at writing iterations of backtesting software
            as I deludedly insist that my algorithms are too complex and my datasets too large for any mundane backtester.</p>

        <p>My first attempt certainly had wild delusions of grandeur. I insisted on writing it in “the fastest language,” namely, c++. While I used the entirely wrong sort of database for my price data, and while I had never even heard of “multi-threading”
            before, I figured my backtester would be the fastest purely because it was written in c++. I later went and bound all my c++ functions to python functions because who could be bothered to write an algorithm in c++.</p>

        <div class='center'>
            <a href='https://github.com/quantitatetrading/trader'>Repo Link</a>
        </div>
        <div class="asciinema">
            <asciinema-player src="resources/demo.cast"></asciinema-player>
            <script src="resources/asciinema-player.js"></script>
        </div>

        <p>The next step in my plan was crowdsourcing. I quite frankly wasn’t creative enough to come up with any interesting signals for trading so instead, I resolved to mooch off of the common man. I wanted to make all my software and data available for
            people at my school so I fruitlessly spent a summer creating a web app that would automatically spin up an AWS server for people who made an account to which people could connect via an online IDE (I swear I thought of the idea before learning
            about Quantopian). Oddly enough I succeeded in building this, but it came as no surprise at all that nobody used it. </p>

        <p>After two years of toiling and coding, I still found myself no richer. So I took major action. I started the quantitative finance club. Herein I assembled 20 or so of the not-so-brightest-minds in my school and discussed trading theses.
        </p>

        <p>Being high off of smoke inhalation from another California wildfire led to our first trading strategy: trading PG&E shares based on the sentiment of tweets from California state government officials. Below is a graph of PG&E stock price (yellow),
            sentiment (green), and strategy return (blue). </p>

        <div class='center'><img src="./resources/graph1.png"></div>

        <p>Our next strategy attempted to trade shares of Take-Two Interactive based on the reviews of their games. I set up a system to scrape video game reviews off of Metacritic and then applied non-linear regression techniques to fit it to the price
            movements of Take-Two stock. The result is some beautiful overfitting (blue is the return of the trading strategy, yellow is the return of the S&P 500 over the same period). Needless to say, this strategy failed miserably out of sample. </p>

        <div class='center'><img src="./resources/graph2.png"></div>
        <p>Now if you're curious what I did during middle school why not treat yourself to <a href="https://medium.com/@brandtwp/the-candy-cartel-a0daf862ab9d">this article</a>?</p>
        <h3>2021-01-08</h3>
    </div>
    <div class='break'>
        <div>
            <div class='triangle bottom right' style='border-color: white'></div>
            <div class='triangle bottom left' style='border-color: white'></div>
        </div>
        <div style="flex-grow:1"></div>
        <div>
            <div class='triangle top left' style='border-color: white;'></div>
            <div class='triangle top right' style='border-color: white;'></div>
        </div>
    </div>
    <div class='content aos-init aos-animate' data-aos="fade-up" data-aos-delay="200" id="aboutMe">
        <h1>About Me</h1>
        <div style="display:flex; align-items: center; flex-direction: column;">
            <div class='indented'>
                <p>I am a second-year undergraduate student at the University College of London studying Statistics Economics and Finance who is pursuing a career in quantitative research. Why not have a look at my <a href='./resources/Resume.pdf'>resume</a>                    ;) ?</p>


                <p>When I am not studying or working for my part-time data analyst function I work on implementing quantitative trading strategies. I currently operate relative value and trend following strategies.</p>

                <p>In my function as a data scientist at Secfi, I have worked in Amsterdam, San Francisco, and London. My projects included helping redesign their database structure and beginning the initiative of constructing a data warehouse, analyzing
                    prospectuses of portfolio companies, developing frameworks for evaluating private equities, and assessing their user conversion process. Some of my work was even published in <a href="https://techcrunch.com/2022/01/20/inside-secfis-2021-state-of-stock-options-equity-report/">Tech Crunch</a></p>

            </div>
        </div>
        <div id="experience">
            <div class='experienceCategory'>
                <h2>Work Experience</h2>
                <div class='experience'>
                    <a href="https://secfi.com"><img src="resources/secfiLogo.png"></a>
                    <p>
                        2021 Data Science Intern<br> 2022 Part-time Data Analyst<br>
                    </p>
                </div>
                <div class='experience'>
                    <a href="https://4me.com"><img src="resources/4meLogo.svg"></a>
                    <p>2018 Part-time QA Tester<br> 2019-2020 Part-time developer<br></p>
                </div>
            </div>
            <div class='experienceCategory'>
                <h2>Education</h2>
                <div class="experience">
                    <a href="https://ucl.ac.uk"><img src="resources/uclLogo.png"></a>
                    <p>
                        BSc Statistics, Economics, and Finance 2020-2023<br> University College London, United Kingdom
                    </p>
                </div>
                <div class="experience">
                    <a href="https://redwood.org"><img src="resources/redwoodLogo.gif"></a>
                    <p>
                        Graduated Redwood High School 2017-2020<br> GPA: 4.3<br>
                    </p>
                </div>
            </div>
        </div>
    </div>

</body>

</html>

<script>
    // draw and animate graph

    const precision = 1;

    const speed = 1;

    var viewBoxHeight = 900;
    var viewBoxWidth = 1920;

    var numPoints = 30;
    var maxPoints = 50;

    var startPoints = `${viewBoxWidth} ${viewBoxHeight} 0 ${viewBoxHeight} `
        // var startPoints = ""

    var polyline = SVG(document.getElementById('graph'))
    polyline.attr('points', genPoints(numPoints))
        // polyline.fill('#f06')
        // polyline.stroke({ color: '#f06', width: 10, linecap: 'round', linejoin: 'round' })

    function genPoints(numPoints) {

        var points = startPoints
        var x = 0;
        var y = 450;

        for (var i = 0; i <= numPoints; i++) {

            y = newHeight(y);
            x = i * viewBoxWidth / numPoints;

            points += `${x} ${y} `

        }
        return points.substring(0, points.length - 1);
    }

    function newHeight(lastHeight) {
        var change = (Math.random() - 0.5) * viewBoxHeight / 4;
        if (lastHeight + change <= viewBoxHeight && lastHeight + change >= 0) {
            return lastHeight + change;
        } else {
            return lastHeight - change;
        }
    }

    function extendLine(callback) {
        var points = polyline.attr('points')

        addPoint(points, viewBoxWidth + viewBoxWidth / (getNumPoints(points) - 3), newHeight(getLastHeight(points)))

        polyline.animate(1000 / speed, 0, 'now').ease('<>').attr({
                'points': stretchPoints(polyline.attr('points'), getNumPoints(points) - 2)
            })
            .after(function() {
                if (getNumPoints(points) - 2 >= maxPoints) {
                    reducePoints().then(extendLine)
                } else {
                    extendLine()
                }
            })

    }

    function getNumPoints(points) {
        return points.split(' ').length / 2;
    }

    function stretchPoints(points, newNumPoints) {
        points = points.split(' ').slice(4)

        for (var i = 0; i < points.length; i += 2) {
            points[points.length - i - 2] = (newNumPoints - i / 2) * viewBoxWidth / (newNumPoints);
        }

        points = points.join(' ')

        return startPoints + points;
    }

    function reducePoints() {
        return new Promise(resolve => {

            points = polyline.attr('points')

            polyline.animate(1000 / speed, 0, 'now').ease('>').attr({
                'points': stretchPoints(points, numPoints)
            }).after(function() {
                var points = polyline.attr('points').split(' ')
                points = points.slice(points.length - numPoints * 2 - 2)
                polyline.attr('points', startPoints + points.join(' '))

                resolve()
            })
        });
    }

    function getLastHeight(points) {
        points = points.split(' ')

        return parseInt(points[points.length - 1])
    }

    function addPoint(points, x, y) {
        polyline.attr('points', points + ` ${x} ${y}`);
    }

    $(document).ready(function() {
        extendLine()
    });
</script>